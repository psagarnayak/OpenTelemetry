# Open Telemetry Demo Project

## Guides

### Command for starting Jaeger via docker
```
docker run -d --name jaeger \
  -e COLLECTOR_ZIPKIN_HOST_PORT=:9411 \
  -p 5775:5775/udp \
  -p 6831:6831/udp \
  -p 6832:6832/udp \
  -p 5778:5778 \
  -p 16686:16686 \
  -p 14250:14250 \
  -p 14268:14268 \
  -p 14269:14269 \
  -p 9411:9411 \
  jaegertracing/all-in-one:1.33
```
Jaeger dashboard would then be accessible at:\
 [http://localhost:16686](http://localhost:16686)

### VM options to send open telemetry info to Jaeger
```
-javaagent:path\to\opentelemetry-javaagent.jar -Dotel.resource.attributes=service.name=customer-ws -Dotel.traces.exporter=jaeger -Dotel.exporter.jaeger.endpoint=http://localhost:14250
```

### Creating sample db setup via docker
```
docker run -p 5432:5432 --name my-postgres \
-e POSTGRES_PASSWORD=password \
-d postgres

docker run -p 127.0.0.1:9876:80 --name my-pgadmin4 \
-e 'PGADMIN_DEFAULT_EMAIL=user@email.com' \
-e 'PGADMIN_DEFAULT_PASSWORD=password' \
-d dpage/pgadmin4
```
* PG Admin would then be accessible via:\
 [http://localhost:9876/browser/](http://localhost:9876/browser/)

* Connection String for PGAdmin
    ```
    host: host.docker.internal
    database: postgres
    user: postgres
    password: password
    ```
* Sample Postgres DB can be generated by following help guide at \
 [https://www.postgresqltutorial.com/postgresql-getting-started/postgresql-sample-database/](https://www.postgresqltutorial.com/postgresql-getting-started/postgresql-sample-database/)
